function [ref,pv,pq] = bus_type(case_name)
%%118 bus System
if strcmp(case_name,'case118')
ref = [69];
pq = [2,3,5,7,9,11,13,14,16,17,20,21,22,23,28,29,30,33,35,37,38,39,41,43,44,45,47,48,50,51,52,53,57,58,60,63,64,67,68,71,75,78,79,81,82,83,84,86,88,93,94,95,96,97,98,101,102,106,108,109,114,115,117,118];
pv = [1,4,6,8,10,12,15,18,19,24,25,26,27,31,32,34,36,40,42,46,49,54,55,56,59,61,62,65,66,70,72,73,74,76,77,80,85,87,89,90,91,92,99,100,103,104,105,107,110,111,112,113,116];
 ref = ref';
pq = pq';
pv = pv';

elseif strcmp(case_name,'case14')
% 14 bus  system
ref =[1];
pv = [2     3     6     8];
pq = [4     5     7     9    10    11    12    13    14 ];
ref = ref';
pq = pq';
pv = pv';

elseif strcmp(case_name ,'case2383wp')
%2383 bus system
ref =[18];
pv=[10,16,17,29,30,31,41,42,43,44,45,63,64,67,83,84,85,86,93,95,97,103,104,105,109,...
    110,111,123,124,125,127,131,132,139,140,176,177,180,181,182,184,185,186,192,196,...
    198,205,213,264,269,277,278,279,281,282,289,294,314,328,329,330,331,334,346,347,...
    359,365,382,383,385,390,395,404,426,444,451,482,492,493,494,514,515,525,536,537,556,...
    580,584,585,607,612,613,615,623,639,651,654,664,670,674,688,692,699,712,730,732,735,...
    740,744,754,755,760,766,784,790,795,798,814,834,878,884,892,895,901,910,911,912,914,917,...
    919,920,929,959,968,993,994,995,996,997,1004,1024,1027,1028,1029,1053,1054,1105,1106,...
    1107,1138,1140,1141,1175,1182,1183,1184,1191,1192,1201,1202,1203,1232,1233,1244,1247,...
    1250,1268,1316,1325,1349,1356,1359,1393,1403,1416,1417,1418,1426,1429,1469,1475,1504,...
    1505,1514,1534,1536,1537,1538,1542,1543,1550,1566,1587,1600,1602,1603,1609,1617,1620,...
    1627,1630,1635,1638,1664,1669,1673,1674,1679,1683,1685,1686,1698,1700,1706,1710,1712,...
    1717,1719,1726,1728,1730,1734,1735,1739,1742,1749,1758,1760,1761,1763,1764,1768,1788,...
    1793,1799,1807,1844,1845,1870,1871,1874,1875,1882,1883,1894,1895,1904,1918,1921,1932,...
    1940,1947,1960,1961,1962,1964,1966,1970,1974,1976,1977,1993,1995,1996,1998,2010,2021,...
    2022,2026,2027,2033,2034,2036,2046,2085,2088,2099,2106,2107,2108,2115,2119,2121,2127,...
    2138,2139,2140,2153,2159,2164,2167,2168,2171,2194,2197,2204,2213,2217,2218,2221,2225,...
    2234,2237,2248,2268,2271,2272,2273,2278,2290,2293,2294,...
    2296,2298,2307,2323,2328,2330,2336,2339,2361,2372,2376,2379,2380,2381];
pq=[10,16,17,29,30,31,41,42,43,44,45,63,64,67,83,84,85,86,93,95,97,103,104,...
    105,109,110,111,123,124,125,127,131,132,139,140,176,177,180,181,182,184,...
    185,186,192,196,198,205,213,264,269,277,278,279,281,282,289,294,314,328,...
    329,330,331,334,346,347,359,365,382,383,385,390,395,404,426,444,451,482,...
    492,493,494,514,515,525,536,537,556,580,584,585,607,612,613,615,623,639,...
    651,654,664,670,674,688,692,699,712,730,732,735,740,744,754,755,760,766,...
    784,790,795,798,814,834,878,884,892,895,901,910,911,912,914,917,919,920,...
    929,959,968,993,994,995,996,997,1004,1024,1027,1028,1029,1053,1054,1105,...
    1106,1107,1138,1140,1141,1175,1182,1183,1184,1191,1192,1201,1202,1203,...
    1232,1233,1244,1247,1250,1268,1316,1325,1349,1356,1359,1393,1403,1416,...
    1417,1418,1426,1429,1469,1475,1504,1505,1514,1534,1536,1537,1538,1542,...
    1543,1550,1566,1587,1600,1602,1603,1609,1617,1620,1627,1630,1635,1638,...
    1664,1669,1673,1674,1679,1683,1685,1686,1698,1700,1706,1710,1712,1717,...
    1719,1726,1728,1730,1734,1735,1739,1742,1749,1758,1760,1761,1763,1764,...
    1768,1788,1793,1799,1807,1844,1845,1870,1871,1874,1875,1882,1883,1894,...
    1895,1904,1918,1921,1932,1940,1947,1960,1961,1962,1964,1966,1970,1974,...
    1976,1977,1993,1995,1996,1998,2010,2021,2022,2026,2027,2033,2034,2036,...
    2046,2085,2088,2099,2106,2107,2108,2115,2119,2121,2127,2138,2139,2140,...
    2153,2159,2164,2167,2168,2171,2194,2197,2204,2213,2217,2218,2221,2225,...
    2234,2237,2248,2268,2271,2272,2273,2278,2290,2293,2294,2296,2298,2307,...
    2323,2328,2330,2336,2339,2361,2372,2376,2379,2380,2381];
ref = ref';
pq = pq';
pv = pv';
elseif strcmp(case_name ,'case300')
       mpc=loadcase(case_name);
       bus_no =mpc.bus(:,1);
       type= mpc.bus(:,2);
       ipq=1;ipv=1;iref=1;
       for i =1:300
           if type(i) ==1
               pq(:,ipq)=bus_no(i);
               ipq=ipq+1;
           
           elseif type(i) ==2
               pv(:,ipv) =bus_no(i);
               ipv =ipv +1;
           elseif type(i) ==3
                   ref(:,iref) =bus_no(i);
                   iref =iref +1;
                   
           end
       end
       
               
else  
     mpc=loadcase(case_name);
     [ref,pv,pq] = bustypes(mpc.bus,mpc.gen);          
end
end